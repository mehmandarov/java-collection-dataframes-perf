=== Row-based vs. Column-based Structures

---

* Row-based structures (e.g. Objects in Collections)
** Advantages
*** Custom tuning based on understanding of the data
*** Custom pooling and caching possible
** Challenges
*** Object header cost per row - 12 bytes
*** Object alignment cost - 8 bytes
**** Note: An empty object costs 16 bytes due to object alignment on 64-bit JVM
**** First reference is free which is why both `EmptyList` and `SingletonList` cost 16 bytes
*** Article: https://shipilev.net/jvm/anatomy-quarks/24-object-alignment/[Object Alignment] by Aleksey Shipil√´v
* Column-based structures (e.g. DataFrame)
** Advantages
*** Object header cost per column
*** Great compression, cache locality and performance especially with primitive arrays
** Challenges
*** Tuning limited to available column types
**** DataFrame-EC currently only has Long value type for integral values



link:toc.adoc[‚¨ÜÔ∏è TOC] /
link:./17_what_is_pooling.adoc[‚¨ÖÔ∏è What is Pooling?] /
link:./21_ce_memory_fine_tuning.adoc[‚û°Ô∏è Conference Explorer - Fine Tuning Memory] üê¢
